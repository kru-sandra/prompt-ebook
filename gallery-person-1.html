<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏´‡∏°‡∏ß‡∏î‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏• - ‡∏´‡∏ô‡πâ‡∏≤ 1</title>

<style>
body{margin:0;padding:16px;font-family:system-ui,sans-serif;background:#fff5f7;}
.top-bar{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;}
.top-bar a{text-decoration:none;color:#ff6f91;font-weight:600;}
.logout-btn{background:white;padding:6px 14px;border-radius:20px;box-shadow:0 2px 6px rgba(0,0,0,.1);}
#pageTitle{text-align:center;margin:10px 0 14px;line-height:1.2;}
#pageTitle .title-main{display:block;font-size:20px;font-weight:600;color:#333;}
#pageTitle .title-sub{display:block;font-size:14px;font-weight:500;color:#999;margin-top:4px;}
.page-nav{display:flex;gap:10px;overflow-x:auto;padding:6px 4px 14px;margin-bottom:20px;justify-content:center;}
.page-nav a{min-width:36px;height:36px;display:flex;align-items:center;justify-content:center;border-radius:50%;text-decoration:none;font-weight:600;color:#ff6f91;background:#fff;box-shadow:0 2px 6px rgba(0,0,0,.1);}
.page-nav a.active{background:#ff6f91;color:#fff;pointer-events:none;}
.gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:16px;}
.card{background:#fff;border-radius:16px;padding:10px;box-shadow:0 4px 10px rgba(0,0,0,.06);cursor:pointer;transition:.25s;text-align:center;}
.card:hover{transform:translateY(-6px);box-shadow:0 10px 20px rgba(0,0,0,.12);}
.prompt-no{font-size:14px;font-weight:700;color:#000;margin-bottom:6px;}
.card img{width:100%;border-radius:12px;}
footer{text-align:center;font-size:12px;color:#999;margin:20px 0;}
</style>
</head>

<body>

<!-- üîê LOGIN CHECK -->
<script>
if(localStorage.getItem("loggedIn") !== "true"){
  window.location.href = "index.html";
}
</script>

<!-- TOP -->
<div class="top-bar">
  <a href="ebook.html">üè† Home</a>
  <a href="#" class="logout-btn" onclick="logout()">üìï Logout</a>
</div>

<h1 id="pageTitle">
  <span class="title-main">‡∏´‡∏°‡∏ß‡∏î‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</span>
  <span class="title-sub"></span>
</h1>

<div class="page-nav" id="pageNavTop"></div>
<div class="gallery" id="gallery"></div>
<div class="page-nav" id="pageNavBottom"></div>

<footer>¬© 2025 AI Persona Studio | Created by Kru Sandra | All rights reserved.</footer>

<!-- ‚¨áÔ∏è ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡∏Å‡πà‡∏≠‡∏ô script -->
<script src="gallery-config.js"></script>

<script>
// üìå ‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å config.js
const { START, END, PER_PAGE, TOTAL_PAGES } = window.galleryConfig;

// üìå ‡∏´‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏à‡∏≤‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå
const match = location.pathname.match(/gallery-person-(\d+)\.html/);
const currentPage = match ? parseInt(match[1]) : 1;

// üìç ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤
document.querySelector("#pageTitle .title-sub").textContent = `‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà ${currentPage}`;

// üìå ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏π‡∏õ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
const IMAGES = Array.from({length: END - START + 1}, (_,i) => START + i);

// üìå ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ä‡πà‡∏ß‡∏á‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ
const start = (currentPage - 1) * PER_PAGE;
const end = start + PER_PAGE;
const pageImages = IMAGES.slice(start, end);

// üìå ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏£‡∏π‡∏õ
const gallery = document.getElementById("gallery");
gallery.innerHTML = ""; // ‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡∏ã‡πâ‡∏≥

pageImages.slice().reverse().forEach(num => {
  const id = String(num).padStart(3,"0");
  gallery.innerHTML += `
    <div class="card" onclick="location.href='prompt-person-${id}.html'">
      <div class="prompt-no">Prompt ${id}</div>
      <img src="images/person/p${id}.jpg" onerror="this.style.display='none'">
    </div>`;
});

// üìå ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏Ç‡∏´‡∏ô‡πâ‡∏≤
function buildNav(id){
  const nav = document.getElementById(id);
  nav.innerHTML = "";

  if(currentPage > 1) nav.innerHTML += `<a href="gallery-person-${currentPage-1}.html">‚Üê</a>`;
  for(let i=1;i<=TOTAL_PAGES;i++){
    nav.innerHTML += `<a class="${i===currentPage?'active':''}" href="gallery-person-${i}.html">${i}</a>`;
  }
  if(currentPage < TOTAL_PAGES) nav.innerHTML += `<a href="gallery-person-${currentPage+1}.html">‚Üí</a>`;
}
buildNav("pageNavTop");
buildNav("pageNavBottom");

// üö™ LOGOUT
function logout(){ localStorage.removeItem("loggedIn"); location.href="index.html"; }
</script>

</body>
</html>
